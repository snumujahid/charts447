<script>
async function loadData() {
  const response = await fetch(
    "https://baserow.io/public/grid/qU_q2FGNdSKj-AriwGLadwEdQgeUWxJP4Piwq24R4vw"
  );
  const data = await response.json();

  // Assuming your view has fields "Name" and "Value"
  const labels = data.rows.map(row => row.Sector);
  const values = data.rows.map(row => row.Sector);

  new Chart(document.getElementById("myChart"), {
    type: "pie",
    data: {
      labels: labels,
      datasets: [{
        label: "Data",
        data: values,
        backgroundColor: "rgba(54, 162, 235, 0.6)"
      }]
    }
  });
}

loadData();
</script>
